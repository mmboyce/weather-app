(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),s=(a(16),a(2)),o=a.n(s),l=a(3),u=a(4),h=a(5),d=a(7),m=a(6),p=a(1),v=a(8),f=(a(18),a(19),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={isLoaded:!1},a.getData=a.getData.bind(Object(p.a)(a)),a.loadImage=a.loadImage.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.weatherData.weather[0].main,a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GIPHY_API_KEY,n="https://api.giphy.com/v1/gifs/translate?api_key=".concat(a,"&s=").concat(t),e.next=5,fetch(n,{mode:"cors"});case 5:return r=e.sent,e.next=8,r.json();case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(e){var t=e.data.images.original.url,a=e.data.title;this.setState({url:t,alt:a,isLoaded:!0})}},{key:"componentDidUpdate",value:function(e){e.weatherData!==this.props.weatherData&&this.setState({isLoaded:!1})}},{key:"render",value:function(){return void 0===this.props.weatherData||this.state.isLoaded||this.getData().then(this.loadImage),r.a.createElement("div",{id:"giphy-display"},r.a.createElement("img",{alt:this.state.alt,src:this.state.url}))}}]),t}(r.a.Component));function E(e){return Math.round(100*e)/100}var b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={cityName:"New York",units:"imperial",retrieved:!1},a.handleData=a.handleData.bind(Object(p.a)(a)),a.handleWeather=a.handleWeather.bind(Object(p.a)(a)),a.handleError=a.handleError.bind(Object(p.a)(a)),a.handleUnits=a.handleUnits.bind(Object(p.a)(a)),a.handleSearch=a.handleSearch.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleUnits",value:function(e){var t=e.target.value;if(void 0!==this.state.data){var a=this.state.data,n=a.main.temp,r=this.state.units;"metric"===r&&"imperial"===t?a.main.temp=E(1.8*n+32):"imperial"===r&&"metric"===t&&(a.main.temp=E(5/9*(n-32)))}this.setState({units:t})}},{key:"handleWeather",value:function(e){this.setState({retrieved:!0,data:e})}},{key:"handleError",value:function(e){var t,a=e.message;t="429"===a?"Too many requests!":"404"===a?"Looks like you tried a bad city name. Check your spelling :)":"Encountered an error: ".concat(a),this.setState({retrieved:null,errMsg:t})}},{key:"handleData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.cityName,n=t.units,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_WEATHER_API_KEY,i="https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&appid=").concat(r,"&units=").concat(n),e.next=5,fetch(i,{mode:"cors"});case 5:if(!(c=e.sent).ok){e.next=13;break}return e.next=9,c.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:throw new Error(c.status);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(e){var t=this;if(13===e.keyCode){var a=e.target.value;this.setState({cityName:a},(function(){return t.handleData().then(t.handleWeather).catch(t.handleError)}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"weather-container"},r.a.createElement("div",{id:"weather-entries"},r.a.createElement("div",{id:"temperature-selection"},r.a.createElement("input",{type:"radio",name:"units",id:"celsius",value:"metric",onClick:this.handleUnits}),r.a.createElement("label",{htmlFor:"celsius"},"\xb0C"),r.a.createElement("input",{defaultChecked:!0,type:"radio",name:"units",id:"farenheit",value:"imperial",onClick:this.handleUnits}),r.a.createElement("label",{htmlFor:"farenheit"},"\xb0F")),r.a.createElement("input",{type:"text",id:"search",placeholder:"New York",onKeyDown:this.handleSearch})),r.a.createElement((function(e){var t="",a="",n="",i="",c=e.retrieved,s=e.data,o=e.units,l=e.errMsg;return c?(n="In ".concat(s.name),t="It's ".concat(s.main.temp),a="Weather: ".concat(s.weather[0].main),i="".concat(i="metric"===o?"\xb0C":"\xb0F"," outside")):null===c&&(t="Oops!",a=l),r.a.createElement("div",{id:"weather-display"},r.a.createElement("p",null,n),r.a.createElement("p",null,"".concat(t).concat(i)),r.a.createElement("p",null,a))}),{retrieved:this.state.retrieved,data:this.state.data,units:this.state.units,errMsg:this.state.errMsg}),r.a.createElement(f,{weatherData:this.state.data}))}}]),t}(r.a.Component);var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.3cf149ad.chunk.js.map