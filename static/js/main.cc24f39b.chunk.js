(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),s=a.n(i),c=(a(16),a(2)),o=a.n(c),l=a(3),d=a(4),h=a(5),u=a(7),m=a(6),p=a(1),v=a(8),g=(a(18),a(19),{display:"none"}),y={display:"block"},f=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isRetrieved:!1,loadingStyle:g,giphyStyle:g,loadingWait:"/weather-app/img/loading.gif",loadingAlt:"loading"},a.getData=a.getData.bind(Object(p.a)(a)),a.loadImage=a.loadImage.bind(Object(p.a)(a)),a.handleLoad=a.handleLoad.bind(Object(p.a)(a)),a.handleError=a.handleError.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.weatherData.weather[0].main,"vy6ld9Wo9MZVtkZDxMOtas9GCD2dnaGd",a="https://api.giphy.com/v1/gifs/translate?api_key=".concat("vy6ld9Wo9MZVtkZDxMOtas9GCD2dnaGd","&s=").concat(t),e.next=5,fetch(a,{mode:"cors"});case 5:if(!(n=e.sent).ok){e.next=13;break}return e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:throw new Error(n.status);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadImage",value:function(e){var t=e.data.images.original.url,a=e.data.title;this.setState({url:t,alt:a,isRetrieved:!0})}},{key:"componentDidUpdate",value:function(e){e.weatherData!==this.props.weatherData&&this.setState({isRetrieved:!1,loadingStyle:y,loadingAlt:"loading",giphyStyle:g})}},{key:"handleLoad",value:function(){this.setState({giphyStyle:y,loadingStyle:g})}},{key:"handleError",value:function(e){this.setState({loadingAlt:e.message+"error!",loadingWait:"/weather-app/img/error.png"})}},{key:"render",value:function(){return void 0===this.props.weatherData||this.state.isRetrieved||this.getData().then(this.loadImage).catch(this.handleError),r.a.createElement("div",{id:"giphy-display"},r.a.createElement("img",{id:"loading",style:this.state.loadingStyle,src:this.state.loadingWait,alt:this.state.loadingAlt}),r.a.createElement("img",{id:"giphy",onLoad:this.handleLoad,style:this.state.giphyStyle,alt:this.state.alt,src:this.state.url}))}}]),t}(r.a.Component);function b(e){return Math.round(100*e)/100}var k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={cityName:"New York",units:"imperial",retrieved:!1},a.handleData=a.handleData.bind(Object(p.a)(a)),a.handleWeather=a.handleWeather.bind(Object(p.a)(a)),a.handleError=a.handleError.bind(Object(p.a)(a)),a.handleUnits=a.handleUnits.bind(Object(p.a)(a)),a.handleSearch=a.handleSearch.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleUnits",value:function(e){var t=e.target.value;if(void 0!==this.state.data){var a=this.state.data,n=a.main.temp,r=this.state.units;"metric"===r&&"imperial"===t?a.main.temp=b(1.8*n+32):"imperial"===r&&"metric"===t&&(a.main.temp=b(5/9*(n-32)))}this.setState({units:t})}},{key:"handleWeather",value:function(e){this.setState({retrieved:!0,data:e})}},{key:"handleError",value:function(e){var t,a=e.message;t="429"===a?"Too many requests!":"404"===a?"Looks like you tried a bad city name. Check your spelling :)":"Encountered an error: ".concat(a),this.setState({retrieved:null,errMsg:t})}},{key:"handleData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.cityName,n=t.units,"69329efdd58f9bc2cda118a18ae27b59",r="https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&appid=").concat("69329efdd58f9bc2cda118a18ae27b59","&units=").concat(n),e.next=5,fetch(r,{mode:"cors"});case 5:if(!(i=e.sent).ok){e.next=13;break}return e.next=9,i.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:throw new Error(i.status);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(e){var t=this;if(13===e.keyCode){var a=e.target.value;this.setState({cityName:a},(function(){return t.handleData().then(t.handleWeather).catch(t.handleError)}))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"weather-container"},r.a.createElement("div",{id:"weather-entries"},r.a.createElement("div",{id:"temperature-selection"},r.a.createElement("input",{type:"radio",name:"units",id:"celsius",value:"metric",onClick:this.handleUnits}),r.a.createElement("label",{htmlFor:"celsius"},"\xb0C"),r.a.createElement("input",{defaultChecked:!0,type:"radio",name:"units",id:"farenheit",value:"imperial",onClick:this.handleUnits}),r.a.createElement("label",{htmlFor:"farenheit"},"\xb0F")),r.a.createElement("input",{type:"text",id:"search",placeholder:"New York",onKeyDown:this.handleSearch})),r.a.createElement((function(e){var t="",a="",n="",i="",s=e.retrieved,c=e.data,o=e.units,l=e.errMsg;return s?(n="In ".concat(c.name),t="It's ".concat(c.main.temp),a="Weather: ".concat(c.weather[0].main),i="".concat(i="metric"===o?"\xb0C":"\xb0F"," outside")):null===s&&(t="Oops!",a=l),r.a.createElement("div",{id:"weather-display"},r.a.createElement("p",null,n),r.a.createElement("p",null,"".concat(t).concat(i)),r.a.createElement("p",null,a))}),{retrieved:this.state.retrieved,data:this.state.data,units:this.state.units,errMsg:this.state.errMsg}),r.a.createElement(f,{weatherData:this.state.data}))}}]),t}(r.a.Component);var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.cc24f39b.chunk.js.map